<article class="post-preview" itemscope itemtype="https://schema.org/BlogPosting">
  {% if post.image %}
    <div class="post-preview-image">
      <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" loading="lazy" itemprop="image">
    </div>
  {% endif %}

  <div class="post-preview-content">
    <h2 class="post-preview-title" itemprop="headline">
      <a href="{{ post.url | relative_url }}" class="post-preview-link">{{ post.title }}</a>
    </h2>

    <div class="post-preview-meta">
      <span class="post-preview-date" itemprop="datePublished">
        {{ post.date | date: "%d/%m/%Y" }}
      </span>

      {% if post.categories %}
        <div class="post-preview-categories">
          {% for category in post.categories limit: 2 %}
            <span class="category-badge">{{ category }}</span>
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <p class="post-preview-excerpt" itemprop="description">
      {{ post.excerpt | strip_html | truncate: 200 }}
    </p>

    <div class="post-preview-footer">
      {% if post.tags %}
        <div class="post-preview-tags">
          {% for tag in post.tags limit: 3 %}
            <span class="tag-badge">#{{ tag }}</span>
          {% endfor %}
        </div>
      {% endif %}

      <a href="{{ post.url | relative_url }}" class="read-more">Leer más →</a>
    </div>
  </div>
</article>
